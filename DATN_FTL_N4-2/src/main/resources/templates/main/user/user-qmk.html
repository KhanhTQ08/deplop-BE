<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Qu√™n m·∫≠t kh·∫©u - For The Love</title>
<link rel="stylesheet" href="/slider_1-main/css/style.css">
<link rel="icon" href="/slider_1-main/image/ok.png" type="image/png">

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- SweetAlert CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<!-- Animate.css -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
<link rel="stylesheet" href="/slider_1-main/css/user-qmk.css">
<link rel="stylesheet" href="/css/user-login.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</head>

<body>
	<div th:replace="userViews/header:: .navbar"></div>
	<div class="div-top"></div>

	<div class="container mt-5">
		<div class="card-login mb-3" style="width: 100%; height: auto;">
			<div class="row g-0">
				<div class="col-md-7">
					<img
						src="https://cdn.dribbble.com/userupload/4060830/file/original-f36227a16988f859b16895028ead7580.jpg?resize=450x338&vertical=center"
						class="img-fluid rounded-start w-100 h-100 custom-border-radius"
						alt="...">
				</div>
				<div class="col-md-5 mt-5">

					<form class="form-login" id="forgotPasswordForm" method="post">
						<label class="custom-tieude-login">Qu√™n m·∫≠t kh·∫©u</label>
						<div class="alert-container"></div>


						<div class="flex-column">
							<label>Email c·∫ßn nh·∫≠p</label>
						</div>
						<div class="inputForm">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
								fill="currentColor" class="bi bi-envelope-check"
								viewBox="0 0 16 16">
  <path
									d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2zm3.708 6.208L1 11.105V5.383zM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2z" />
  <path
									d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686" />
</svg>
							<input type="text" name="email" id="email" class="input"
								placeholder="H√£y nh·∫≠p email c·ªßa b·∫°n">
						</div>
						<button type="submit" class="btn-shine mt-3">
							<span>G·ª≠i m√£</span>
						</button>
						<p class="p">
							<span>B·∫°n ƒë√£ c√≥ t√†i kho·∫£n?</span> <a th:href="@{/login}"
								style="text-decoration: none;"> <span class="span">ƒêƒÉng
									nh·∫≠p </span>
							</a> <a th:href="@{/register}" style="text-decoration: none;"> <span
								class="span">/ ƒêƒÉng k√Ω</span>
							</a>
						</p>
					</form>

				</div>
			</div>
		</div>
	</div>
	<!-- Modal nh·∫≠p OTP -->
	<!-- Modal nh·∫≠p m√£ OTP -->
	<!-- Modal nh·∫≠p m√£ OTP -->
	<div class="modal fade" id="otpModal" tabindex="-1"
		aria-labelledby="otpModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="otpModalLabel">Nh·∫≠p m√£ OTP</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="otp-timer" id="otp-timer">Th·ªùi gian c√≤n l·∫°i:
						03:00</div>
					<!-- Hi·ªÉn th·ªã th·ªùi gian -->

					<form id="verifyOtpForm">
						<div class="otp-input-container">
							<input type="text" class="otp-input" maxlength="1" id="otp1"
								name="otp1" /> <input type="text" class="otp-input"
								maxlength="1" id="otp2" name="otp2" /> <input type="text"
								class="otp-input" maxlength="1" id="otp3" name="otp3" /> <input
								type="text" class="otp-input" maxlength="1" id="otp4"
								name="otp4" /> <input type="text" class="otp-input"
								maxlength="1" id="otp5" name="otp5" /> <input type="text"
								class="otp-input" maxlength="1" id="otp6" name="otp6" />
						</div>
						<button type="submit" class="btn-custom">X√°c nh·∫≠n OTP</button>

					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- Modal thay ƒë·ªïi m·∫≠t kh·∫©u -->
	<div class="modal fade" id="resetPasswordModal" tabindex="-1"
		aria-labelledby="resetPasswordModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="resetPasswordModalLabel">ƒê·∫∑t l·∫°i
						m·∫≠t kh·∫©u</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal"
						aria-label="Close"></button>
				</div>
				<div class="modal-body">

					<form id="resetPasswordForm">
						<div class="mb-3">
							<label for="newPassword" class="form-label">M·∫≠t kh·∫©u m·ªõi</label>
							<div class="input-container">
								<input type="password" class="form-control" id="newPassword"
									name="newPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u m·ªõi"> <span
									class="toggle-password" id="togglePassword"> <span
									id="eyeIcon">üêµ</span> <!-- Bi·ªÉu t∆∞·ª£ng m·∫Øt -->
								</span>
							</div>
						</div>

						<div class="mb-3">
							<label for="confirmPassword" class="form-label">X√°c nh·∫≠n
								m·∫≠t kh·∫©u</label>
							<div class="input-container">
								<input type="password" class="form-control" id="confirmPassword"
									name="confirmPassword" placeholder="X√°c nh·∫≠n m·∫≠t kh·∫©u m·ªõi">
								<span class="toggle-password" id="toggleConfirmPassword">
									<span id="eyeIconConfirm">üêµ</span> <!-- Bi·ªÉu t∆∞·ª£ng m·∫Øt -->
								</span>
							</div>
						</div>

						<button type="submit" class="btn-custom">ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u</button>
					</form>
				</div>
			</div>
		</div>
	</div>



	<!-- FOOTER -->
	<div style="margin-top: -15px"></div>

	<div th:replace="userViews/footer:: footer"></div>

	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script src="/slider_1-main/js/help.js"></script>
	<script src="/slider_1-main/js/search.js"></script>
	<script src="/slider_1-main/js/qmk.js"></script>
	<style>
.swal2-title, .swal2-popup {
	font-weight: normal !important; /* ƒê·∫£m b·∫£o kh√¥ng b·ªã in ƒë·∫≠m */
}

.btn-custom {
	background-color: #FF3D49; /* M√†u n·ªÅn ƒë·ªè */
	color: white; /* Ch·ªØ tr·∫Øng */
	border: none; /* X√≥a border */
	padding: 10px 20px; /* Th√™m padding */
	font-size: 1rem; /* K√≠ch th∆∞·ªõc ch·ªØ */
	border-radius: 5px; /* Bo g√≥c */
	transition: background-color 0.3s ease;
	/* Th√™m hi·ªáu ·ª©ng chuy·ªÉn m√†u n·ªÅn */
	margin-left: 140px;
}

.btn-custom:hover {
	background-color: #D92B3C; /* M√†u n·ªÅn khi hover */
}

.btn-custom:focus {
	outline: none; /* X√≥a vi·ªÅn focus */
}

.input-container {
	position: relative; /* ƒê·∫∑t v·ªã tr√≠ t∆∞∆°ng ƒë·ªëi ƒë·ªÉ cƒÉn ch·ªânh ph·∫ßn t·ª≠ con */
}

.input-container input {
	width: 100%; /* Chi·∫øm to√†n b·ªô chi·ªÅu r·ªông */
	padding-right: 40px; /* Ch·ª´a kho·∫£ng tr·ªëng b√™n ph·∫£i cho bi·ªÉu t∆∞·ª£ng */
	padding-left: 10px; /* Th√™m padding b√™n tr√°i cho input */
	border-radius: 5px;
	border: 2px solid #FF3D49;
	font-size: 16px;
}

.toggle-password {
	position: absolute; /* ƒê·∫∑t v·ªã tr√≠ tuy·ªát ƒë·ªëi trong .input-container */
	right: 10px; /* CƒÉn c√°ch m√©p ph·∫£i 10px */
	top: 50%; /* CƒÉn gi·ªØa theo chi·ªÅu d·ªçc */
	transform: translateY(-50%); /* D·ªãch chuy·ªÉn ƒë·ªÉ cƒÉn ch√≠nh gi·ªØa */
	cursor: pointer; /* Hi·ªÉn th·ªã con tr·ªè khi di chu·ªôt qua */
	font-size: 1.3em; /* TƒÉng k√≠ch th∆∞·ªõc bi·ªÉu t∆∞·ª£ng */
	user-select: none; /* V√¥ hi·ªáu h√≥a ch·ªçn text tr√™n bi·ªÉu t∆∞·ª£ng */
	color: #FF3D49; /* M√†u bi·ªÉu t∆∞·ª£ng */
}

.toggle-password:hover {
	opacity: 0.7; /* Hi·ªáu ·ª©ng khi hover */
}

/* Th√™m hi·ªáu ·ª©ng focus cho input */
.input-container input:focus {
	border-color: #FF3D49;
	outline: none;
}

.otp-timer {
	font-size: 1.2rem;
	font-weight: bold;
	color: #FF3D49;
	text-align: center;
	margin-bottom: 15px;
}
</style>
	<script>
		//ƒê·ªëi v·ªõi m·∫≠t kh·∫©u m·ªõi
		document.getElementById("togglePassword").addEventListener(
				"click",
				function() {
					const passwordInput = document
							.getElementById("newPassword");
					const eyeIcon = document.getElementById("eyeIcon");

					// Ki·ªÉm tra v√† thay ƒë·ªïi lo·∫°i m·∫≠t kh·∫©u
					if (passwordInput.type === "password") {
						passwordInput.type = "text"; // Hi·ªÉn th·ªã m·∫≠t kh·∫©u
						eyeIcon.textContent = "üôà"; // Bi·ªÉu t∆∞·ª£ng kh·ªâ nh·∫Øm m·∫Øt
					} else {
						passwordInput.type = "password"; // ·∫®n m·∫≠t kh·∫©u
						eyeIcon.textContent = "üêµ"; // Bi·ªÉu t∆∞·ª£ng kh·ªâ m·ªü m·∫Øt
					}
				});

		// ƒê·ªëi v·ªõi m·∫≠t kh·∫©u x√°c nh·∫≠n
		document.getElementById("toggleConfirmPassword").addEventListener(
				"click",
				function() {
					const passwordInput = document
							.getElementById("confirmPassword");
					const eyeIcon = document.getElementById("eyeIconConfirm"); // ƒê·∫£m b·∫£o ID ƒë√∫ng cho bi·ªÉu t∆∞·ª£ng

					// Ki·ªÉm tra v√† thay ƒë·ªïi lo·∫°i m·∫≠t kh·∫©u
					if (passwordInput.type === "password") {
						passwordInput.type = "text"; // Hi·ªÉn th·ªã m·∫≠t kh·∫©u
						eyeIcon.textContent = "üôà"; // Bi·ªÉu t∆∞·ª£ng kh·ªâ nh·∫Øm m·∫Øt
					} else {
						passwordInput.type = "password"; // ·∫®n m·∫≠t kh·∫©u
						eyeIcon.textContent = "üêµ"; // Bi·ªÉu t∆∞·ª£ng kh·ªâ m·ªü m·∫Øt
					}
				});
	</script>
	<script>
$(document).ready(function () {
    let countdown = 180; // 3 ph√∫t (t√≠nh b·∫±ng gi√¢y)
    let timerInterval;

    const startCountdown = () => {
        const timerElement = document.getElementById("otp-timer");

        timerInterval = setInterval(() => {
            if (countdown <= 0) {
                clearInterval(timerInterval);
                $("#otpModal").modal("hide");
                Toast.fire({
                    icon: 'error',
                    title: 'OTP ƒë√£ h·∫øt h·∫°n. Vui l√≤ng y√™u c·∫ßu l·∫°i.'
                });
                return;
            }

            const minutes = Math.floor(countdown / 60);
            const seconds = countdown % 60;
            timerElement.textContent = `Th·ªùi gian c√≤n l·∫°i: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            countdown--;
        }, 1000);
    };

    $('#otpModal').on('shown.bs.modal', function () {
        countdown = 180; // Reset th·ªùi gian ƒë·∫øm ng∆∞·ª£c
        clearInterval(timerInterval); // ƒê·∫£m b·∫£o kh√¥ng c√≥ b·ªô ƒë·∫øm c≈© n√†o ƒëang ch·∫°y
        startCountdown(); // B·∫Øt ƒë·∫ßu ƒë·∫øm ng∆∞·ª£c
    });

    $('#otpModal').on('hidden.bs.modal', function () {
        clearInterval(timerInterval); // D·ª´ng b·ªô ƒë·∫øm khi modal b·ªã ƒë√≥ng
    });
});

</script>
</body>

</html>
