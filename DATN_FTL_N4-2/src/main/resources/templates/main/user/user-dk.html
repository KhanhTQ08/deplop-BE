<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Đăng ký - For The Love</title>
<link rel="stylesheet" href="/slider_1-main/css/style.css">
<link rel="icon" href="/slider_1-main/image/ok.png" type="image/png">

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
	crossorigin="anonymous"></script>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- SweetAlert CSS -->
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<!-- Animate.css -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


</head>

<body>
	<div th:replace="userViews/header:: .navbar"></div>
	<div class="div-top"></div>

	<div class="container mt-5">
		<div class="card-login mb-3" style="width: 100%; height: auto;">
			<div class="row g-0">
				<div class="col-md-7">
					<img
						src="https://c.wallhere.com/images/d0/d0/3c9203dca6873e85879197389228-1520111.jpg!d"
						class="img-fluid rounded-start w-100 h-100 custom-border-radius"
						alt="...">
				</div>
				<div class="col-md-5">
					<form class="form-login" method="post" th:object="${account}"
						th:action="@{/register}">
						<label class="custom-tieude-login">Đăng ký tài khoản</label>
												<div class="alert-container"></div>
						

						<div class="flex-column">
							<label>Tên đăng nhập</label>
						</div>
						<div class="inputForm">
							<svg height="20" width="20" viewBox="0 0 24 24"
								xmlns="http://www.w3.org/2000/svg">
                            <path
									d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.9 0-11 2-11 6v2h22v-2c0-4-7.1-6-11-6z"
									fill="none" stroke="#000" stroke-width="2" />
                        </svg>
							<input type="text" th:field="*{username}" id="username"
								class="input" placeholder="Hãy nhập tên đăng nhập">


						</div>

						<div class="flex-column">
							<label>Mật khẩu</label>
						</div>
						<div class="inputForm">
							<svg height="20" viewBox="-64 0 512 512" width="20"
								xmlns="http://www.w3.org/2000/svg">
                            <path
									d="m336 512h-288c-26.453125 0-48-21.523438-48-48v-224c0-26.476562 21.546875-48 48-48h288c26.453125 0 48 21.523438 48 48v224c0 26.476562-21.546875 48-48 48zm-288-288c-8.8125 0-16 7.167969-16 16v224c0 8.832031 7.1875 16 16 16h288c8.8125 0 16-7.167969 16-16v-224c0-8.832031-7.1875-16-16-16zm0 0"></path>
                            <path
									d="m304 224c-8.832031 0-16-7.167969-16-16v-80c0-52.929688-43.070312-96-96-96s-96 43.070312-96 96v80c0 8.832031-7.167969 16-16 16s-16-7.167969-16-16v-80c0-70.59375 57.40625-128 128-128s128 57.40625 128 128v80c0 8.832031-7.167969 16-16 16zm0 0"></path>
                        </svg>
							<input type="password" id="password" th:field="*{password}"
								class="input" placeholder="Hãy nhập mật khẩu" /> <span
								id="togglePassword" class="toggle-password"
								style="cursor: pointer;"> <span id="eyeIcon"
								class="eye-open">🐵</span> <!-- Biểu tượng khỉ mở mắt -->
							</span>

						</div>
						<div class="flex-column">
							<label>Xác nhận mật khẩu</label>
						</div>
						<div class="inputForm">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
								fill="currentColor" class="bi bi-check-square-fill"
								viewBox="0 0 16 16" stroke="#000">
                            <path
									d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z" />
                        </svg>

							<input type="password" id="confirm_password" class="input"
								name="confirm_password" placeholder="Hãy nhập xác nhận mật khẩu">
							<span id="toggleConfirmPassword" class="toggle-password"
								style="cursor: pointer;"> <span id="eyeIconConfirm"
								class="eye-open">🐵</span> <!-- Biểu tượng khỉ mở mắt -->
							</span>


						</div>
						<div class="flex-column">
							<label>Email cần nhập</label>
						</div>
						<div class="inputForm">
							<svg height="20" width="20" viewBox="0 0 24 24"
								xmlns="http://www.w3.org/2000/svg">
                            <path
									d="M20.1 4H3.9C2.85 4 2 4.85 2 5.9v12.2C2 19.15 2.85 20 3.9 20h16.2c1.05 0 1.9-.85 1.9-1.9V5.9c0-1.05-.85-1.9-1.9-1.9zm0 2l-8.1 5L3.9 6h16.2zM4 18V7.98l8 4.92 8-4.92V18H4z"
									fill="none" stroke="#000" />
                        </svg>

							<input type="text" id="email" class="input" th:field="*{email}"
								placeholder="Hãy nhập email của bạn">


						</div>
						<div class="flex-column">
							<label>Họ và tên</label>
						</div>
						<div class="inputForm">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
								fill="currentColor" class="bi bi-person-vcard"
								viewBox="0 0 16 16" stroke="#000">
                            <path
									d="M5 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4m4-2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5M9 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 9 8m1 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5" />
                            <path
									d="M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM1 4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H8.96q.04-.245.04-.5C9 10.567 7.21 9 5 9c-2.086 0-3.8 1.398-3.984 3.181A1 1 0 0 1 1 12z" />
                        </svg>

							<input type="text" id="full_name" class="input"
								th:field="*{fullName}" placeholder="Hãy nhập họ và tên của bạn">


						</div>
						<div class="flex-column">
							<label
								th:text="${currentLang == 'en' ? 'Phone Number' : 'Số điện thoại'}">Số
								điện thoại</label>
						</div>
						<div class="inputForm">
							<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
								fill="currentColor" class="bi bi-telephone-inbound"
								viewBox="0 0 16 16" stroke="#000">
                            <path
									d="M15.854.146a.5.5 0 0 1 0 .708L11.707 5H14.5a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 1 0v2.793L15.146.146a.5.5 0 0 1 .708 0m-12.2 1.182a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.6 17.6 0 0 0 4.168 6.608 17.6 17.6 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.68.68 0 0 0-.58-.122l-2.19.547a1.75 1.75 0 0 1-1.657-.459L5.482 8.062a1.75 1.75 0 0 1-.46-1.657l.548-2.19a.68.68 0 0 0-.122-.58zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z" />
                        </svg>

							<input type="text" id="phone_number" class="input"
								th:field="*{phoneNumber}"
								placeholder="Hãy nhập số điện thoại của bạn">
						</div>
						<button class="boton-elegante mt-3" type="submit">Đăng ký
							ngay</button>
						<p class="p">
							<span>Bạn đã có tài khoản?</span> <a th:href="@{/login}"
								style="text-decoration: none;"> <span class="span">Đăng
									nhập </span>
							</a> <a th:href="@{/forgot-password}" style="text-decoration: none;">
								<span class="span">/ Quên mật khẩu</span>
							</a>
						</p>
					</form>
				</div>
			</div>
		</div>
	</div>
	<div style="margin-top: -16px"></div>

	<!-- FOOTER -->
	<div th:replace="userViews/footer:: footer"></div>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
    const Toast = Swal.mixin({
        toast: true,
        position: "top-end",
        showConfirmButton: false,
        timer: 3000,
        timerProgressBar: true,
        didOpen: (toast) => {
            toast.onmouseenter = Swal.stopTimer;
            toast.onmouseleave = Swal.resumeTimer;
        }
    });
</script>
 <th:block th:if="${empty}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${empty}]]*/ 'Vui lòng kiểm tra lại các trường đã điền!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>

<th:block th:if="${usernameError}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${usernameError}]]*/ 'Tên đăng nhập phải có từ 6 đến 20 ký tự!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>
<th:block th:if="${chichochuuser}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${chichochuuser}]]*/ 'Tên đăng nhập không được chứa ký tự đặc biệt!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>
<th:block th:if="${chichochufull}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${chichochufull}]]*/ 'Tên đầy đủ không được chứa ký tự đặc biệt!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>
<th:block th:if="${usernameExists}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${usernameExists}]]*/ 'Tên đăng nhập đã tồn tại!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>
<th:block th:if="${emailExists}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${emailExists}]]*/ 'Email đã được sử dụng!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>
<th:block th:if="${passwordError}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${passwordError}]]*/ 'Mật khẩu phải có ít nhất 6 ký tự!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>
<th:block th:if="${confirmError}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${confirmError}]]*/ 'Mật khẩu xác nhận phải giống với mật khẩu!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>
<th:block th:if="${emailError}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${emailError}]]*/ 'Email không đúng định dạng!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>

<th:block th:if="${phoneError}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${phoneError}]]*/ 'Số điện thoại phải bắt đầu bằng số 0 và bao gồm đúng 10 chữ số!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>
<th:block th:if="${roleError}">
    <script>
        Toast.fire({
            icon: "error",
            text: /*[[${roleError}]]*/ 'Vai trò mặc định không tồn tại!'  <!-- Thay vì text động, bạn có thể để text tĩnh như thế này nếu không có biến -->
        });
    </script>
</th:block>
<th:block th:if="${registerSuccess}">
    <script>
        Toast.fire({
            icon: "success",
            text: /*[[${registerSuccess}]]*/ 'Đăng ký thành công! Đang chuyển hướng...'
        }).then(() => {
            window.location.href = '/login'; 
        });
    </script>
</th:block>
	<script src="/slider_1-main/js/password.js"></script>
	<script src="/slider_1-main/js/help.js"></script>
	<script src="/slider_1-main/js/search.js"></script>

	<!-- FOOTER -->

</body>

</html>