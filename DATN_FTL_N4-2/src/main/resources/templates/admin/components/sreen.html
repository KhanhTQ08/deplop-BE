<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>Panels - Kaiadmin Bootstrap 5 Admin Dashboard</title>
<meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
	name="viewport" />
<link rel="icon" href="../assets/img/kaiadmin/favicon.ico"
	type="image/x-icon" />

<!-- Fonts and icons -->
<script src="../assets/js/plugin/webfont/webfont.min.js"></script>
<script>
	WebFont.load({
		google : {
			families : [ "Public Sans:300,400,500,600,700" ]
		},
		custom : {
			families : [ "Font Awesome 5 Solid", "Font Awesome 5 Regular",
					"Font Awesome 5 Brands", "simple-line-icons", ],
			urls : [ "../assets/css/fonts.min.css" ],
		},
		active : function() {
			sessionStorage.fonts = true;
		},
	});
</script>

<!-- CSS Files -->
<link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
<link rel="stylesheet" href="../assets/css/plugins.min.css" />
<link rel="stylesheet" href="../assets/css/kaiadmin.min.css" />

<!-- CSS Just for demo purpose, don't include it in your project -->
<link rel="stylesheet" href="../assets/css/demo.css" />
</head>
<body>
	<div class="wrapper">
		<!-- Sidebar -->

		<div th:replace="~{adminViews/aside:: .sidebar}"></div>

		<!-- End Sidebar -->

		<div class="main-panel">
			<!-- header -->

			<div th:replace="~{adminViews/header:: .header}"></div>

			<!-- header -->

			<!-- body -->
			<div class="main-content">
				<div class="row">
					<div class="col-md-12">
						<div class="table-wrapper">
							<div class="table-title">
								<div class="row">
									<div
										class="col-sm-4 p-0 flex justify-content-lg-start justify-content-center">
										<h2 class="ml-lg-2">Danh Sách Ca Chiếu</h2>
									</div>
									<div class="col-sm-4 order-3 order-md-2">
										<div class="xp-searchbar">
											<form action="/showtimes" method="post">
												<div class="input-group">
													<input type="search" name="search"
														th:value="${param.search}" class="form-control"
														placeholder="Search">
													<div class="input-group-append">
														<button class="btn search-btn" type="submit"
															id="button-addon2">
															<i class="fa-solid fa-magnifying-glass text-warning"
																style="font-size: 25px;"></i>
														</button>
													</div>
												</div>
											</form>
										</div>
									</div>
									<div
										class="col-sm-4 p-0 flex justify-content-lg-end justify-content-center">
										<a href="/removedProducts" class="btn btn-white"> <i
											class="material-icons">&#xE872;</i> <span>Sản phẩm xóa</span>
										</a> <a href="/productsDetail" class="btn btn-white"> <i
											class="material-icons">&#xE147;</i> <span>Thêm sản
												phẩm</span>
										</a>
									</div>
								</div>
							</div>

							<!-- Danh sách ca chiếu -->
							<table class="table table-striped table-hover">
								<thead>
									<tr>
										<th>Ca Chiếu</th>
										<th>Tên phòng</th>
										<th>Tên Phim</th>
										<th>Ngày chiếu</th>
										<th>Thời Gian Bắt Đầu</th>
										<th>Thời Gian Kết Thúc</th>
										<th>Thao tác</th>
									</tr>
								</thead>
								<tbody>
									<tr th:each="item : ${showtimes}">
										<td th:text="${item?.showtimeId}"></td>
										<td th:text="${item?.room?.roomName}"></td>
										<td th:text="${item?.movie?.movieName}"></td>
										<td th:text="${item?.showDate}"></td>
										<td th:text="${item?.startTime}"></td>
										<td th:text="${item?.endTime}"></td>
										<td>
											<div class="row gap-3 justify-content-center">
												<div class="col-auto">
													<a class="btn btn-success text-white"
														th:href="'/update-showtime?id='+${item?.showtimeId}">
														<i class="fa-solid fa-pen-to-square"></i> Cập nhật
													</a>
												</div>
												<div class="col-auto">
													<form action="/delete-showtime" method="POST">
														<input type="hidden" name="showtimeId"
															th:value="${item?.showtimeId}">
														<button class="btn btn-danger text-white" type="submit">
															<i class="material-icons">&#xE872;</i> Xóa
														</button>
													</form>
												</div>
											</div>
										</td>
									</tr>
								</tbody>
							</table>

						</div>
					</div>
				</div>
			</div>


			<!-- body -->

			<!-- footer -->

			<div th:replace="~{adminViews/footer:: .footer}"></div>

			<!-- footer -->
		</div>

		<!-- Custom template | don't include it in your project! -->

s
		<!-- End Custom template -->
	</div>
	<!--   Core JS Files   -->
	<script src="../assets/js/core/jquery-3.7.1.min.js"></script>
	<script src="../assets/js/core/popper.min.js"></script>
	<script src="../assets/js/core/bootstrap.min.js"></script>

	<!-- jQuery Scrollbar -->
	<script
		src="../assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
	<!-- Moment JS -->
	<script src="../assets/js/plugin/moment/moment.min.js"></script>

	<!-- Chart JS -->
	<script src="../assets/js/plugin/chart.js/chart.min.js"></script>

	<!-- jQuery Sparkline -->
	<script
		src="../assets/js/plugin/jquery.sparkline/jquery.sparkline.min.js"></script>

	<!-- Chart Circle -->
	<script src="../assets/js/plugin/chart-circle/circles.min.js"></script>

	<!-- Datatables -->
	<script src="../assets/js/plugin/datatables/datatables.min.js"></script>

	<!-- Bootstrap Notify -->
	<script
		src="../assets/js/plugin/bootstrap-notify/bootstrap-notify.min.js"></script>

	<!-- jQuery Vector Maps -->
	<script src="../assets/js/plugin/jsvectormap/jsvectormap.min.js"></script>
	<script src="../assets/js/plugin/jsvectormap/world.js"></script>

	<!-- Sweet Alert -->
	<script src="../assets/js/plugin/sweetalert/sweetalert.min.js"></script>

	<!-- Kaiadmin JS -->
	<script src="../assets/js/kaiadmin.min.js"></script>

	<!-- Kaiadmin DEMO methods, don't include it in your project! -->
	<script src="../assets/js/setting-demo2.js"></script>
</body>
</html>
